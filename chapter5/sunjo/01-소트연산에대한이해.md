### 소트 수행 과정

---

**메모리 소트**

- 정렬 작업 메모리 내에서 완료하는 것

**디스크 소트**

- 할당받은 Sort Area 내에서 정렬을 완료하지 못해 디스크 공간까지 사용하는 경우
- 성능이 나빠질 수밖에 없다.
- 부분범위 처리를 불가능하게 함으로써 OLTP 환경에서 어플리케이션 성능을 저하시키는 주 원인이다.

소트는 기본적으로 PGA에 할당한 Sort Area에서 이루어진다. 소트할 대상 집합을 SGA 버퍼캐시를 통해 읽어들이고, Sort Area에서 정렬을 시도한다.  다 차면 Temp 테이블스페이스를 활용한다.(이것을 Sort Run 이라고 부름). 정렬된 최종 집합을 얻으려면 이를 다시 merge한다.

### 소트 오퍼레이션

---

**Sort Aggregate**

- 전체 로우를 대상으로 집계를 수행할 때 나타남
- 실제로 데이터를 정렬하진 않음

**Sort Order by**

- 데이터를 정렬할 때 나타마

**Sort Group by**

- 소팅 알고리즘을 사용해 그룹별 집계를 수행할 떄 나타남
- 부서별 급여 집계할 때 10, 20, 30, 40 => 4개만 준비하고 계산한다. => sort group by 방식
- hash group by 방식은 해시를 통해 메모지를 찾아감

**그룹핑 결과의 정렬 순서**

Sort Group By는 정렬이 보장될것 같지만 보장되지 않는다.

소팅 알고리즘을 통해 그룹핑한 결과집합은 논리적인 정렬 순서를 갖는 연결 리스트 구조이다. 사용자가 order by를 명시하면 오라클은 논리적 정렬 순서를 따라 값을 읽는다.

⇒ 정렬된 값을 얻으려면 sort group by가 있다고 하더라도 order by를 명시

**Sort Unique**

- 조인 하기 전에 중복 레코드를 제거한다.
- unique 인덱스를 통해 unnesting 됐다면 sort unique는 생략

**Sort Join**

- 소트 머지 조인을 수행할 떄 나타난다.

**Window sort**

- 윈도우 함수를 수행할 때 나타난다.